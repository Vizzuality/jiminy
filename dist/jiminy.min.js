!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("datalib")):"function"==typeof define&&define.amd?define(["datalib"],e):"object"==typeof exports?exports.Jiminy=e(require("datalib")):t.Jiminy=e(t.dl)}(this,function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(4),s=i(u),o=n(6),c=i(o),l=n(3),f=i(l),h=function(){function t(e){r(this,t),this._dataset=new s["default"](e),this._fields=new c["default"](this._dataset),this._charts=new f["default"](this._fields)}return a(t,[{key:"recommendation",value:function(){return this._availableCharts=this._charts.getAvailable(),this._availableCharts.map(function(t){return t.name})}},{key:"name",get:function(){return"Jiminy"}},{key:"version",get:function(){return"0.0.1"}}]),t}();e["default"]=h,t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return Number.isNaN?Number.isNaN(t):"number"==typeof t&&isNaN(t)})}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){if(n(this,t),!(e&&e.hasOwnProperty("name")&&e.hasOwnProperty("acceptedStatTypes")))throw new Error("Charts must be instanciated with a correct configuration ie. with a name and a list of accepted statistical types.");this._name=e.name,this._acceptedStatTypes=e.acceptedStatTypes}return i(t,[{key:"isAvailable",value:function(t){for(var e=!1,n=0,i=this._acceptedStatTypes.length;i>n;n++){var r=this._acceptedStatTypes[n];if(e=1===r.length?this._existFields(t,r[0],1):r[0]===r[1]?this._existFields(t,r[0],2):this._existFields(t,r[0],1)&&this._existFields(t,r[1],1))break}return e}},{key:"_capitalize",value:function(t){return t?t[0].toUpperCase()+t.slice(1,t.length):t}},{key:"_existFields",value:function(t,e,n){return t.filter(function(t){return t.statType["is"+this._capitalize(e)]}.bind(this)).length>=n}},{key:"equals",value:function(t){return t.constructor&&t.constructor===this.constructor&&t.name===this._name&&t.acceptedStatTypes===this._acceptedStatTypes}},{key:"name",get:function(){return this._name}},{key:"acceptedStatTypes",get:function(){return this._acceptedStatTypes}}]),t}();e["default"]=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(2),s=i(u),o=[{name:"bar",acceptedStatTypes:[["nominal"],["ordinal"],["quantitative","nominal"],["quantitative","temporal"],["quantitative","ordinal"]]},{name:"line",acceptedStatTypes:[["quantitative","temporal"],["quantitative","ordinal"]]},{name:"pie",acceptedStatTypes:[["nominal"],["ordinal"]]},{name:"scatter",acceptedStatTypes:[["quantitative","quantitative"],["nominal","nominal"],["nominal","ordinal"],["ordinal","ordinal"]]},{name:"1d_scatter",acceptedStatTypes:[["quantitative"],["temporal"]]},{name:"1d_tick",acceptedStatTypes:[["quantitative"],["temporal"]]}],c=function(){function t(e){if(r(this,t),this._config=o,this._charts=this._createCharts(),!(e&&e.fields.length>0))throw new Error("Charts must be instancianted with at least one field.");this._fields=e.fields}return a(t,[{key:"_createCharts",value:function(){for(var t=[],e=0,n=this._config.length;n>e;e++)t.push(new s["default"](this._config[e]));return t}},{key:"getAvailable",value:function(){for(var t=[],e=0,n=this._charts.length;n>e;e++)this._charts[e].isAvailable(this._fields)&&t.push(this._charts[e]);return t}},{key:"charts",get:function(){return this._charts}}]),t}();e["default"]=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(1),o=i(s),c=function(){function t(e){if(r(this,t),this._data=e,!this.valid)throw new Error("The dataset must be a non-empty array.")}return u(t,[{key:"getFirstValidValue",value:function(t){for(var e=0,n=this._data.length;n>e;e++){var i=this._data[e][t];if(this._validValue(i))return i}return null}},{key:"atLeast5DistinctValues",value:function(t){for(var e=[],n=0,i=this._data.length;i>n;n++){var r=this._data[n][t];if(this._validValue(r)&&!~e.indexOf(r)&&e.push(r),e.length>=5)return!0}return!1}},{key:"getColumnNames",value:function(){var t=this._data[0],e=[];for(var n in t)e.push(n);return e}},{key:"_validValue",value:function(t){return!(null===t||void 0===t||o["default"].isNaN(t)||Array.isArray(t)||"object"===("undefined"==typeof t?"undefined":a(t)))}},{key:"data",get:function(){return this._data}},{key:"valid",get:function(){return this._data&&Array.isArray(this._data)&&this._data.length>0}}]),t}();e["default"]=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(8),s=i(u),o=n(7),c=i(o),l=function(){function t(e,n){if(r(this,t),!e||!n||!n.valid)throw new Error("Fields must be instanciated with a name and with the dataset");this._name=e,this._type=new s["default"](e,n),this._stats=this._computeStats(n),this._statType=new c["default"](this._type,this._stats)}return a(t,[{key:"_computeStats",value:function(t){return{atLeast5DistinctValues:t.atLeast5DistinctValues(this._name)}}},{key:"equals",value:function(t){return t.constructor&&t.constructor===this.constructor&&t.name===this._name&&t.type.equals(this._type)&&t.statType.equals(this._statType)}},{key:"name",get:function(){return this._name}},{key:"type",get:function(){return this._type}},{key:"statType",get:function(){return this._statType}}]),t}();e["default"]=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(5),s=i(u),o=function(){function t(e){if(r(this,t),!e||!e.valid)throw new Error("Fields expects a valid dataset");this._fields=this.getFields(e)}return a(t,[{key:"getFields",value:function(t){for(var e=t.getColumnNames(),n=[],i=0,r=e.length;r>i;i++)n.push(new s["default"](e[i],t));return n}},{key:"fields",get:function(){return this._fields}}]),t}();e["default"]=o},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=["quantitative","nominal","ordinal","temporal"],a=function(){function t(e,i){if(n(this,t),this._types=r,!(e&&i&&i.hasOwnProperty("atLeast5DistinctValues")))throw new Error("Statistical types must be instanciated with the field's type and the stats.");this._name=this._inferType(e,i)}return i(t,[{key:"_inferType",value:function(t,e){var n=this._types[2];return t.isBoolean||t.isString?n=this._types[1]:t.isDate?n=this._types[3]:(t.isNumber||t.isInteger)&&e.atLeast5DistinctValues&&(n=this._types[0]),n}},{key:"equals",value:function(t){return t.constructor&&t.constructor===this.constructor&&t.name===this._name}},{key:"types",get:function(){return this._types}},{key:"name",get:function(){return this._name}},{key:"isQuantitative",get:function(){return this._name===this._types[0]}},{key:"isNominal",get:function(){return this._name===this._types[1]}},{key:"isOrdinal",get:function(){return this._name===this._types[2]}},{key:"isTemporal",get:function(){return this._name===this._types[3]}}]),t}();e["default"]=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(9),s=i(u),o=n(1),c=i(o),l=["number","integer","string","date","boolean"],f=function(){function t(e,n){if(r(this,t),this._types=l,!s["default"])throw new Error("Make sure to include the dependency 'datalib'");if(!(e&&n&&n.valid))throw new Error("A type requires the dataset and the field name.");this._name=this._inferType(e,n)}return a(t,[{key:"_inferType",value:function(t,e){var n=e.getFirstValidValue(t);return null!==n?s["default"].type.infer([n]):this._types[2]}},{key:"_validValue",value:function(t){return null!==t&&void 0!==t&&!c["default"].isNaN(t)}},{key:"equals",value:function(t){return t.constructor&&t.constructor===this.constructor&&t.name===this._name}},{key:"name",get:function(){return this._name}},{key:"isNumber",get:function(){return 0===this._types.indexOf(this._name)}},{key:"isInteger",get:function(){return 1===this._types.indexOf(this._name)}},{key:"isString",get:function(){return 2===this._types.indexOf(this._name)}},{key:"isDate",get:function(){return 3===this._types.indexOf(this._name)}},{key:"isBoolean",get:function(){return 4===this._types.indexOf(this._name)}}]),t}();e["default"]=f},function(e,n){e.exports=t}])});